on: 
  push:
    branches:
    - master
name: expo_deploy 
jobs:
  expo_deploy:
    name: Expo Build 
    runs-on: ubuntu-latest
    steps:
    - name: Checkout
      uses: actions/checkout@v2

    - name: Check for EXPO_TOKEN
      run: |
        if [ -z "txxybwZzrgmF9OYswICJ2gXcOr9AgQdEwlhdCC-9 " ]; then
          echo "You must provide an EXPO_TOKEN secret linked to this project's Expo account in this repo's secrets. Learn more: https://docs.expo.dev/eas-update/github-actions"
          exit 1
        fi

    - uses: actions/setup-node@v2
      with:
        node-version: 16.x
        cache: npm
    
    - uses: expo/expo-github-action@v7
      with:
        expo-version: latest
        eas-version: latest
        token: "txxybwZzrgmF9OYswICJ2gXcOr9AgQdEwlhdCC-9" 
    
    - name: Install dependencies
      run: npm install
    
    - name: ðŸš€ Publish app
      run: expo publish --non-interactive
    
    - name: expo Build
      run: |
        expo build:android -t apk --non-interactive
        echo expo url:apk
        
#eas update --auto

#${{ secrets.EXPO_TOKEN }} 
#txxybwZzrgmF9OYswICJ2gXcOr9AgQdEwlhdCC-9